# ëª©í‘œ

> TypeScript 4.1ì— ë„ì…ëœ Template Literal Typesì„ ì•Œì•„ë³´ê³  ëŒ€ìˆ˜ì  íƒ€ì…(Algebraic Data Types, ì´í›„ ADTs)ì´ ì™œ ì •ì  íƒ€ì… ì–¸ì–´ì— í•„ìš”í•œì§€ ì´í•´í•©ë‹ˆë‹¤.

ì •ì  íƒ€ì… ì–¸ì–´ëŠ” ëŸ°íƒ€ì„ ì „ì— íƒ€ì…ì„ ì²´í¬í•©ë‹ˆë‹¤. ê·¸ ë•ë¶„ì— ë²ˆê±°ë¡œìš´ ì‹¤í–‰ ì‹œê°„, ë¹Œë“œ ì‹œê°„ ì—†ì´ ì—ëŸ¬ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì™„ë²½í•œ ì–¸ì–´ëŠ” ì—†ìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì •ì  íƒ€ì… ì–¸ì–´ë“¤ì´ ê°€ì§€ëŠ” í•œê³„ì ì€ ad-hoc types systemì…ë‹ˆë‹¤.  
ad-hocì€ "ì„ì‹œì ì¸, ì¦‰í¥ì ì¸"ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì €í¬ëŠ” í´ë˜ìŠ¤, ê°ì²´ë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ ê·¸ì— ë§ëŠ” íƒ€ì…ì„ ë§Œë“­ë‹ˆë‹¤. ëª¨ë“  ìƒí™©ì— ì™„ë²½í•˜ê²Œ í˜¸í™˜ë˜ëŠ” ë§ŒëŠ¥í˜• íƒ€ì…ì´ ì—†ìœ¼ë‹ˆê¹Œìš”. 

### ë‹¹ì—°í•œ ë“¯ ë³´ì…ë‹ˆë‹¤. ì´ê²Œ ì™œ ë¬¸ì œì˜€ì„ê¹Œìš”?

ì—¬ëŸ¬ ë¬¸ì œ ì¤‘ ë‘ ê°€ì§€ë§Œ ê¼½ì•„ë³´ìë©´ **ê³ ë„ì˜ ì¶”ìƒí™”(high-level-abstraction)ì™€ ë²”ìœ„ ëª¨ë¸ë§(domain modeling)ì´ ì‰½ì§€ ì•ŠìŠµë‹ˆë‹¤.**  
ì˜ˆë¥¼ ë“¤ì–´ **Generic, Union Types, Tuple Typesê°€ ì—†ëŠ” TypeScript**ë¥¼ ìƒê°í•´ë³´ì„¸ìš”. ë”ì°í•©ë‹ˆë‹¤.  
ì´ë¥¼ ë³´ì™„í•˜ëŠ” ì—°êµ¬ì™€ ê°œì„ ì´ ë§ìŠµë‹ˆë‹¤. Martin-LÃ¶f Type Theory, Generic, C++ì˜ Dependent Types, Rustì˜ ADTsê°€ ì¢‹ì€ ì˜ˆì‹œì…ë‹ˆë‹¤.  

TypeScriptì—ì„œ ADTsëŠ” íƒ€ì…ì„ ëŒ€ìˆ˜ì ìœ¼ë¡œ ë°”ë¼ë³´ëŠ” íœ´ë¦¬ìŠ¤í‹±ì…ë‹ˆë‹¤. íƒ€ì…ì„ ëŒ€ìˆ˜í•™ì²˜ëŸ¼ ë”í•˜ê³ (+), ê³±í•´ì„œ(x) ë¬¸ì œí•´ê²°ì— í•„ìš”í•œ íƒ€ì…ì„ ë§Œë“¤ì–´ë‚´ìëŠ” ì•„ì´ë””ì–´ì…ë‹ˆë‹¤. ADTsëŠ” í¬ê²Œ Sum Types(+)ì™€ Product Types(x) ë‘ ê°€ì§€ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤. ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ë³´ì£ .  

```typescript
// Sum Types
type Direction = "up" | "down" | "right" | "left"
type Params = string | number
// Product Types
type Person = { name: string, age: number }
type Tuple = readonly [boolean, number, string]
```

ë³´ë‹¤ì‹œí”¼ ADTsëŠ” ê±°ì°½í•˜ê³  ì–´ë ¤ìš´ ê°œë…ì´ ì•„ë‹™ë‹ˆë‹¤!  
**Sum TypesëŠ” ì—¬ëŸ¬ ì„ íƒì§€ê°€ ìˆëŠ” íƒ€ì…ì´ê³ , Product TypesëŠ” í•˜ë‚˜ ì•ˆì— ì—¬ëŸ¬ íƒ€ì…ì´ ê³µì¡´í•©ë‹ˆë‹¤.** ê·¸ê²Œ ì „ë¶€ì…ë‹ˆë‹¤.(Rustì²˜ëŸ¼ ì‹œìŠ¤í…œì ìœ¼ë¡œ ADTsë¥¼ ì§€ì›í•  ê²½ìš° ë” ê°•ë ¥í•œ ê¸°ëŠ¥ êµ¬í˜„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.)  

### Template Literal Types?

ë³¸ë¡ ìœ¼ë¡œ ëŒì•„ê°€ë³´ì£ . Template Literal TypesëŠ” ADTsì˜ domain modelingì„ ê°•ë ¥í•˜ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤. Template Literal Typesê°€ ë„ì…ë˜ê¸° ì „ì˜ ì½”ë“œë¥¼ ë´…ì‹œë‹¤.  

```typescript
// case 1: ë²„íŠ¼ íƒ€ì…ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤...
type Buttons = "a" | "b" | "x" | "y" | "home" | "zl" | "zr";

// ğŸ’” ë²„íŠ¼ì— ëŒ€í•œ ë©”ì†Œë“œ íƒ€ì…ë„ ì¼ì¼ì´ ì¶”ê°€í•´ì•¼ í•œë‹¤.
type ButtonsController = {
  onA: () => void;
  onB: () => void;
  onX: () => void;
  onY: () => void;
  onHome: () => void;
  onZl: () => void;
  onZr: () => void;
};

class Controller implements ButtonsController {
  // ... ë©”ì†Œë“œ êµ¬í˜„
}

// case 2: í¬ì»¤ìš© ì¹´ë“œ íƒ€ì…ì„ ì–´ë–»ê²Œ ë§Œë“¤ì§€?
type CardRank = 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | "J" | "Q" | "K" | "A";
type CardSuit = "â™¥" | "â™ " | "â™£" | "â—†";
type Card = [CardSuit, CardRank] | "JOKER"; // ğŸ™‡â€â™‚ï¸ í ...ë­”ê°€ ë³„ë¡œë‹¤.
```

case 1ì€ íƒ€ì…ì´ ì¶”ê°€ë˜ê±°ë‚˜ íƒ€ì… ì´ë¦„ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë©”ì†Œë“œ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ì½”ë“œë„ ë§¤ë²ˆ ê³ ì³ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë²ˆê±°ë¡œìš¸ ë¿ë”ëŸ¬ ê°œë°œìê°€ ì‹¤ìˆ˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  
case 2ëŠ” íƒ€ì…ì´ íŠœí”Œì´ê±°ë‚˜ "JOKER" ë¦¬í„°ëŸ´ íƒ€ì…ì…ë‹ˆë‹¤. ì˜ë„í•œ ë°”ê°€ ì•„ë‹Œ ì´ìƒ í†µì¼ê°ì´ ë–¨ì–´ì§€ê³  ë³´ê¸° ì•ˆ ì¢‹ë„¤ìš”.  

ì´ì œ Template Literal Typesë¡œ ìœ„ ì½”ë“œë¥¼ ê°œì„ í•´ë´…ì‹œë‹¤.  

```typescript
// case 1: ë²„íŠ¼ì— ëŒ€í•œ íƒ€ì…ë§Œ ì¶”ê°€í•˜ê±°ë‚˜ ë³€ê²½í•©ë‹ˆë‹¤.
type Buttons = "a" | "b" | "x" | "y" | "home" | "zl" | "zr" 
type CapitalizedButtons = Capitalize<Buttons> // ğŸ“˜ Capitalize: TS 4.1ì— ì¶”ê°€ëœ íƒ€ì…. string ë¦¬í„°ëŸ´ íƒ€ì…ì˜ ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ ë°”ê¿‰ë‹ˆë‹¤.
type ButtonHandlers = `on${CapitalizedButtons}` // "onA" | "onB" | "onX" | "onY" | "onHome" | "onZl" | "onZr"

// ğŸ‰ ë©”ì†Œë“œ íƒ€ì…ì€ ë²„íŠ¼ íƒ€ì…ì— ë§ì¶°ì„œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤!
type ButtonsController = {
  [BH in ButtonHandlers]: () => void;
}

class Controller implements ButtonsController {
  // ... ë©”ì†Œë“œ êµ¬í˜„
}

// case 2: í¬ì»¤ ì¹´ë“œ
type CardRank = 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | "J" | "Q" | "K" | "A";
type CardSuit = "â™¥" | "â™ " | "â™£" | "â—†";
type Card = `${CardSuit}-${CardRank}` | "JOKER"; // 53ê°€ì§€ì˜ ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì… ìƒì„±
```

## ë§ˆë¬´ë¦¬
ì´ì²˜ëŸ¼ ëŒ€ìˆ˜ì  íƒ€ì…ì„ í†µí•œ ì‚¬ê³ ë°©ì‹ê³¼ ë°©ë²•ì€ ë¬¸ì œí•´ê²°ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.  
Template Literal Typesë¡œ ë”ìš± ê°•í™”ëœ TypeScriptë¥¼ ë‹¤ì–‘í•˜ê²Œ ì¦ê²¨ë³´ì„¸ìš”!
